{
  "version": "1.0.0",
  "project_id": "proj_dakota_blog_2026",
  "last_updated": "2026-01-25T20:45:00Z",
  "success_patterns": [
    {
      "id": "pattern_001",
      "category": "performance_optimization",
      "pattern": "Use requestAnimationFrame with throttling for smooth 60fps scroll tracking",
      "context": "For scroll-based UI updates, combine RAF with time-based throttling (16ms) to ensure consistent 60fps performance without layout thrashing",
      "example": "useReadingProgress hook: throttled scroll handler with RAF scheduling",
      "learned_from": "epic_009_story_057",
      "success_count": 2,
      "last_applied": "2026-01-25T20:45:00Z",
      "learned_at": "2026-01-25T20:20:00Z"
    },
    {
      "id": "pattern_002",
      "category": "accessibility",
      "pattern": "Combine visual progress indicators with ARIA live regions for screen readers",
      "context": "Progress bars should include role='progressbar', aria-valuenow/min/max, and sr-only live regions for percentage announcements",
      "example": "ReadingProgress component with ARIA progressbar role and live region",
      "learned_from": "epic_009_story_058",
      "success_count": 2,
      "last_applied": "2026-01-25T20:45:00Z",
      "learned_at": "2026-01-25T20:20:00Z"
    },
    {
      "id": "pattern_003",
      "category": "progressive_enhancement",
      "pattern": "Feature detection for Web APIs with graceful fallbacks",
      "context": "Use useEffect to check for modern APIs (navigator.share, clipboard) and provide fallback experiences for unsupported browsers",
      "example": "ShareButtons component: Web Share API detection with manual share links as fallback",
      "learned_from": "epic_009_story_059",
      "success_count": 2,
      "last_applied": "2026-01-25T20:45:00Z",
      "learned_at": "2026-01-25T20:20:00Z"
    },
    {
      "id": "pattern_004",
      "category": "performance_optimization",
      "pattern": "Cache expensive DOM measurements to avoid recalculation on every scroll event",
      "context": "When tracking scroll progress, cache article position/height in useRef and only recalculate on resize events. This prevents unnecessary getBoundingClientRect() calls.",
      "example": "const metricsRef = useRef({ top: 0, height: 0 }); useEffect(() => { const updateMetrics = () => { metricsRef.current = { top: article.offsetTop, height: article.scrollHeight }; }; updateMetrics(); window.addEventListener('resize', updateMetrics); }, [])",
      "learned_from": "epic_009_review_feedback",
      "success_count": 0,
      "learned_at": "2026-01-25T20:45:00Z",
      "optimization_opportunity": true
    },
    {
      "id": "pattern_005",
      "category": "progressive_enhancement",
      "pattern": "Implement multiple sharing methods with graceful degradation layers",
      "context": "Provide native Web Share API as first choice, platform-specific URLs (Twitter, LinkedIn, email) as second layer, and copy-to-clipboard as universal fallback",
      "example": "ShareButtons component: 4 sharing methods (native share, Twitter, LinkedIn, copy link) that work across all browsers and devices",
      "learned_from": "epic_009_story_059",
      "success_count": 1,
      "last_applied": "2026-01-25T20:45:00Z",
      "learned_at": "2026-01-25T20:45:00Z"
    },
    {
      "id": "pattern_006",
      "category": "design_system",
      "pattern": "Transform-based hover/active states for neo-brutalist interactive elements",
      "context": "Use translate transforms for 'lifted' hover states (-2px, -2px) and 'pressed' active states (2px, 2px) with hard box-shadows. Always include prefers-reduced-motion support.",
      "example": "button:hover { transform: translate(-2px, -2px); box-shadow: 2px 2px 0 #fff; } button:active { transform: translate(2px, 2px); box-shadow: none; } @media (prefers-reduced-motion) { button { transform: none !important; } }",
      "learned_from": "epic_009_story_058_059",
      "success_count": 1,
      "last_applied": "2026-01-25T20:45:00Z",
      "learned_at": "2026-01-25T20:45:00Z",
      "quality_score": "10/10 design consistency"
    }
  ],
  "anti_patterns": [
    {
      "id": "anti_001",
      "category": "react_hooks",
      "anti_pattern": "Using useState as useEffect for side effects",
      "why_bad": "useState doesn't execute callbacks; useEffect should be used for mount-time side effects",
      "correct_approach": "Use useEffect with empty dependency array for feature detection on component mount",
      "learned_from": "epic_009_story_059_fix",
      "occurrence_count": 1,
      "last_avoided": "2026-01-25T20:45:00Z",
      "learned_at": "2026-01-25T20:20:00Z"
    },
    {
      "id": "anti_002",
      "category": "testing",
      "anti_pattern": "Skipping unit tests for complex hook logic with edge cases",
      "why_bad": "Complex scroll position calculations have many edge cases (article at top, bottom, middle) that are hard to verify manually. Missing tests reduces confidence in correctness.",
      "correct_approach": "Add Jest tests for custom hooks with complex math. Test edge cases: progress=0 at top, progress=100 at bottom, progress calculation for different scroll positions.",
      "learned_from": "epic_009_review_feedback",
      "occurrence_count": 1,
      "learned_at": "2026-01-25T20:45:00Z",
      "severity": "minor",
      "future_action": "Add unit tests for useReadingProgress hook"
    }
  ],
  "user_preferences": [
    {
      "id": "pref_001",
      "category": "ui_workflow",
      "preference": "Use Pencil.dev MCP for UI component design and verification",
      "context": "All UI tasks in Epics 3 and 4 should reference Pencil canvas designs",
      "learned_at": "2026-01-25T00:00:00Z"
    },
    {
      "id": "pref_002",
      "category": "design_system",
      "preference": "Neo-brutalist styling with thick borders (2-4px), hard shadows, #0A0A0A background, #F5F5F5 text",
      "context": "Apply consistently across all UI components",
      "learned_at": "2026-01-25T00:00:00Z"
    }
  ],
  "project_conventions": [
    {
      "id": "conv_001",
      "category": "verification",
      "convention": "UI tasks require Pencil MCP visual verification before completion",
      "source": ".apl/config.json custom_checks",
      "learned_at": "2026-01-25T00:00:00Z"
    },
    {
      "id": "conv_002",
      "category": "component_structure",
      "convention": "Reading enhancement features (progress, share) integrated into blog post pages",
      "details": "ReadingProgress at top of article, ShareButtons after article content, both use hooks for feature detection",
      "source": "epic_009_implementation",
      "learned_at": "2026-01-25T20:45:00Z"
    }
  ],
  "technique_stats": {
    "total_sessions": 2,
    "total_epics_completed": 2,
    "epic_009": {
      "stories_completed": 3,
      "acceptance_criteria_met": 26,
      "quality_score": 8.8,
      "review_result": "success",
      "accessibility_score": "10/10",
      "design_consistency_score": "10/10",
      "critical_issues": 0,
      "minor_suggestions": 2
    },
    "successful_patterns_applied": 6,
    "anti_patterns_avoided": 2,
    "cumulative_quality_scores": [8.8],
    "average_quality_score": 8.8
  },
  "epic_completion_summary": {
    "epic_009": {
      "title": "Reading Experience Enhancements",
      "completed_at": "2026-01-25T20:45:00Z",
      "duration_estimate": "3-4 hours",
      "key_deliverables": [
        "useReadingProgress hook with RAF-based scroll tracking",
        "ReadingProgress component with ARIA progressbar",
        "ShareButtons component with 4 sharing methods",
        "Integration into blog post pages"
      ],
      "quality_highlights": [
        "Perfect accessibility compliance (10/10)",
        "Smooth 60fps scroll performance with RAF throttling",
        "Progressive enhancement with Web Share API fallbacks",
        "Neo-brutalist interactive states with motion preference support"
      ],
      "improvement_opportunities": [
        "Cache DOM measurements to avoid recalculation",
        "Add unit tests for useReadingProgress edge cases"
      ]
    }
  }
}
